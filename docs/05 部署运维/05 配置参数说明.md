# 配置参数说明

## 文档信息

| 项目 | 内容 |
|------|------|
| 文档版本 | V1.0 |
| 创建日期 | 2026-02-28 |

---

## 1. 配置文件

### 1.1 配置文件位置

| 平台 | 路径 |
|------|------|
| Windows | `%APPDATA%\com.redink.app\config.json` |
| macOS | `~/Library/Application Support/com.redink.app/config.json` |
| Linux | `~/.config/com.redink.app/config.json` |

---

## 2. 通用配置

| 参数 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `language` | string | `"zh-CN"` | 界面语言 |
| `theme` | string | `"system"` | 主题 (system/light/dark) |
| `autoSaveInterval` | number | `30000` | 自动保存间隔 (ms) |

---

## 3. 环境配置

| 参数 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `defaultEnvironment` | string | `"private"` | 默认启动环境 |
| `showEnvSwitchWarning` | boolean | `true` | 切换到公网时显示警告 |
| `forcePrivateMode` | boolean | `false` | 强制私域模式 |

---

## 4. AI服务配置

### 4.1 私域AI

| 参数 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `ai.private.type` | string | `"ollama"` | 服务类型 |
| `ai.private.baseUrl` | string | `"http://localhost:11434"` | 服务地址 |
| `ai.private.model` | string | `"qwen:7b"` | 默认模型 |

### 4.2 公网AI

| 参数 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `ai.public.provider` | string | `"qwen"` | 服务商 |
| `ai.public.apiKey` | string | `""` | API密钥 (加密存储) |
| `ai.public.model` | string | `"qwen-turbo"` | 默认模型 |

### 4.3 生成参数

| 参数 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `ai.temperature` | number | `0.7` | 温度 (0-2) |
| `ai.maxTokens` | number | `4096` | 最大Token数 |
| `ai.topP` | number | `0.9` | Top-P采样 |

---

## 5. 安全配置

| 参数 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `security.sensitiveDetection` | boolean | `true` | 启用敏感检测 |
| `security.detectIdCard` | boolean | `true` | 检测身份证号 |
| `security.detectPhone` | boolean | `true` | 检测手机号 |
| `security.detectBankCard` | boolean | `true` | 检测银行卡号 |
| `security.detectKeywords` | boolean | `true` | 检测敏感关键词 |
| `security.sensitiveAction` | string | `"warn"` | 处理方式 (warn/block) |
| `security.auditLogEnabled` | boolean | `true` | 记录审计日志 |
| `security.auditLogRetention` | number | `90` | 日志保留天数 |

---

## 6. 导出配置

| 参数 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `export.defaultFormat` | string | `"docx"` | 默认格式 |
| `export.embedFonts` | boolean | `true` | 嵌入字体 |
| `export.useOfficialFormat` | boolean | `true` | 使用公文格式 |
| `export.defaultPath` | string | `""` | 默认保存路径 |

---

## 7. 界面配置

| 参数 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `ui.sidebarCollapsed` | boolean | `false` | 侧边栏折叠 |
| `ui.aiPanelWidth` | number | `360` | AI面板宽度 |
| `ui.fontSize` | number | `14` | 界面字号 |
| `ui.editorFontSize` | number | `16` | 编辑器字号 |

---

## 8. 配置示例

```json
{
  "language": "zh-CN",
  "theme": "system",
  "autoSaveInterval": 30000,
  "defaultEnvironment": "private",
  "showEnvSwitchWarning": true,
  "ai": {
    "private": {
      "type": "ollama",
      "baseUrl": "http://localhost:11434",
      "model": "qwen:7b"
    },
    "public": {
      "provider": "qwen",
      "model": "qwen-turbo"
    },
    "temperature": 0.7,
    "maxTokens": 4096
  },
  "security": {
    "sensitiveDetection": true,
    "detectIdCard": true,
    "detectPhone": true,
    "sensitiveAction": "warn",
    "auditLogEnabled": true
  },
  "export": {
    "defaultFormat": "docx",
    "useOfficialFormat": true
  }
}
```

---

## 9. 环境变量

| 变量 | 说明 |
|------|------|
| `REDINK_DATA_DIR` | 自定义数据目录 |
| `REDINK_LOG_LEVEL` | 日志级别 (debug/info/warn/error) |
| `REDINK_CONFIG_PATH` | 自定义配置文件路径 |

---

*文档结束*
