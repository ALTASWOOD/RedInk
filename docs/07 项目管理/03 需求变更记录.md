# RedInk 需求变更记录

---

## 文档信息

| 项目 | 内容 |
|------|------|
| 项目名称 | RedInk 公文报告编写软件 |
| 文档版本 | V1.0 |
| 文档状态 | 持续更新 |
| 创建日期 | 2026-02-28 |
| 最后更新 | 2026-02-28 |

---

## 1. 变更管理流程

### 1.1 变更流程图

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  变更申请   │ →  │  影响分析   │ →  │  评审决策   │ →  │  实施变更   │
│             │    │             │    │             │    │             │
│ 提交CR表单  │    │ 评估范围    │    │ PM审批      │    │ 更新文档    │
│ 说明变更内容│    │ 评估资源    │    │ 记录决策    │    │ 开发实施    │
│ 变更原因    │    │ 评估进度    │    │ 通知相关人  │    │ 测试验证    │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
```

### 1.2 变更分级标准

| 变更级别 | 定义 | 审批权限 | 处理时限 |
|----------|------|----------|----------|
| 紧急变更 | 阻塞性问题，必须立即处理 | 项目经理即时批准 | 4小时内 |
| 小型变更 | 不影响进度和成本，<0.5人天 | 项目经理 | 1工作日 |
| 中型变更 | 影响1个迭代内工作，0.5-3人天 | 项目经理+产品经理 | 2工作日 |
| 大型变更 | 影响里程碑或成本，>3人天 | 变更控制委员会(CCB) | 5工作日 |

### 1.3 变更状态说明

| 状态 | 说明 |
|------|------|
| 待评审 | 变更已提交，等待评审 |
| 评审中 | 正在进行影响分析和评审 |
| 已批准 | 变更已批准，待实施 |
| 实施中 | 变更正在开发实施 |
| 已完成 | 变更已实施并验证完成 |
| 已拒绝 | 变更被拒绝，记录原因 |
| 已取消 | 变更被申请人取消 |

---

## 2. 变更记录

### CR-001: 新增知识库功能

| 项目 | 内容 |
|------|------|
| 变更编号 | CR-001 |
| 申请日期 | 2026-02-28 |
| 申请人 | 产品经理 |
| 变更级别 | 大型变更 |
| 状态 | **已批准** |

**变更内容**：
在AI集成模块中新增知识库功能，支持：
1. 创建和管理本地知识库
2. 将文档导入知识库（向量化存储）
3. 基于知识库进行智能问答（RAG）
4. 显示问答的引用来源

**变更原因**：
用户在编写公文时需要参考大量政策文件和历史公文，通过知识库功能可以快速检索相关内容，提升编写效率和内容准确性。

**影响分析**：
- 新增工作量：约3人周
- 影响模块：AI集成模块、文档管理模块
- 技术依赖：需集成本地向量数据库（LanceDB/Chroma）
- 进度影响：纳入Sprint 10，不影响整体里程碑

**评审决策**：
- 决策结果：批准
- 决策日期：2026-02-28
- 决策人：项目经理、产品经理
- 备注：作为P0功能纳入MVP

---

### CR-002: 新增文档导入功能

| 项目 | 内容 |
|------|------|
| 变更编号 | CR-002 |
| 申请日期 | 2026-02-28 |
| 申请人 | 产品经理 |
| 变更级别 | 中型变更 |
| 状态 | **已批准** |

**变更内容**：
新增文档导入功能，支持：
1. 导入DOCX文件（保留格式）
2. 导入PDF文件（文本提取/OCR识别）
3. 导入Markdown文件
4. 批量导入功能

**变更原因**：
用户有大量已有公文需要导入系统进行编辑和管理，需要支持常用文档格式的导入。

**影响分析**：
- 新增工作量：约2人周
- 影响模块：文档管理模块、公文编写模块
- 技术依赖：需集成文档解析库
- 进度影响：纳入Sprint 5，不影响整体里程碑

**评审决策**：
- 决策结果：批准
- 决策日期：2026-02-28
- 决策人：项目经理、产品经理
- 备注：PDF OCR功能作为P1优先级

---

### CR-003: 新增素材库管理模块

| 项目 | 内容 |
|------|------|
| 变更编号 | CR-003 |
| 申请日期 | 2026-02-28 |
| 申请人 | 产品经理 |
| 变更级别 | 中型变更 |
| 状态 | **已批准** |

**变更内容**：
新增素材库管理模块，包含：
1. 常用短语管理（预置+自定义）
2. 段落模板管理
3. 图片素材管理
4. 表格模板管理
5. 素材快速插入到文档

**变更原因**：
公文编写中有大量重复使用的短语和段落，素材库可以大幅提升编写效率。

**影响分析**：
- 新增工作量：约2人周
- 影响模块：新增独立模块
- 进度影响：纳入Sprint 7，不影响整体里程碑

**评审决策**：
- 决策结果：批准
- 决策日期：2026-02-28
- 决策人：项目经理、产品经理
- 备注：预置短语库需产品经理提供内容

---

### CR-004: 活动栏新增知识库图标

| 项目 | 内容 |
|------|------|
| 变更编号 | CR-004 |
| 申请日期 | 2026-02-28 |
| 申请人 | UI设计师 |
| 变更级别 | 小型变更 |
| 状态 | **已批准** |

**变更内容**：
在活动栏中新增知识库图标（📚），位于素材库图标下方。

**变更原因**：
配合CR-001知识库功能的界面入口。

**影响分析**：
- 新增工作量：<0.5人天
- 影响模块：UI设计文档、前端布局
- 进度影响：无

**评审决策**：
- 决策结果：批准
- 决策日期：2026-02-28
- 决策人：项目经理

---

## 3. 变更统计

### 3.1 变更汇总

| 统计项 | 数量 |
|--------|------|
| 总变更数 | 4 |
| 已批准 | 4 |
| 已拒绝 | 0 |
| 待评审 | 0 |
| 实施中 | 0 |
| 已完成 | 0 |

### 3.2 变更分布

```
按变更级别分布:
┌────────────┬───────┬───────────────────────────────────────────┐
│ 紧急变更   │   0   │                                           │
├────────────┼───────┼───────────────────────────────────────────┤
│ 小型变更   │   1   │ ████                                      │
├────────────┼───────┼───────────────────────────────────────────┤
│ 中型变更   │   2   │ ████████                                  │
├────────────┼───────┼───────────────────────────────────────────┤
│ 大型变更   │   1   │ ████                                      │
└────────────┴───────┴───────────────────────────────────────────┘

按状态分布:
┌────────────┬───────┬───────────────────────────────────────────┐
│ 已批准     │   4   │ ████████████████                          │
├────────────┼───────┼───────────────────────────────────────────┤
│ 已拒绝     │   0   │                                           │
├────────────┼───────┼───────────────────────────────────────────┤
│ 其他       │   0   │                                           │
└────────────┴───────┴───────────────────────────────────────────┘
```

---

## 4. 变更申请模板

### 变更申请表

```
┌─────────────────────────────────────────────────────────────────────┐
│                           需求变更申请表                             │
├─────────────────────────────────────────────────────────────────────┤
│ 变更编号: CR-XXX                                                    │
│ 申请日期:                                                           │
│ 申请人:                                                             │
│ 变更级别: [ ] 紧急  [ ] 小型  [ ] 中型  [ ] 大型                    │
├─────────────────────────────────────────────────────────────────────┤
│ 变更标题:                                                           │
│                                                                     │
│ 变更内容描述:                                                       │
│                                                                     │
│                                                                     │
│                                                                     │
│ 变更原因:                                                           │
│                                                                     │
│                                                                     │
├─────────────────────────────────────────────────────────────────────┤
│ 影响分析 (评审人填写):                                              │
│                                                                     │
│ 影响范围:                                                           │
│ 工作量评估:                                                         │
│ 进度影响:                                                           │
│ 成本影响:                                                           │
├─────────────────────────────────────────────────────────────────────┤
│ 评审决策:                                                           │
│                                                                     │
│ 决策结果: [ ] 批准  [ ] 拒绝  [ ] 延期                              │
│ 决策日期:                                                           │
│ 决策人:                                                             │
│ 备注:                                                               │
└─────────────────────────────────────────────────────────────────────┘
```

---

*文档结束*
